{
  "section_specific_exam_workflow": {
    "description": "Complete workflow payloads for section-specific exam: start attempt, save responses, submit section",
    "base_url": "http://localhost:4000",
    "authentication": "Bearer token required in Authorization header",
    "exam_data": {
      "examId": "68ea2625285f4daf28311d5b",
      "title": "IELTS Academic Practice Test 1",
      "type": "IELTS Academic",
      "sections": [
        {
          "sectionId": "68ea2625285f4daf28311d33",
          "sectionType": "Listening",
          "title": "Listening Section",
          "duration": 2700
        },
        {
          "sectionId": "68ea2625285f4daf28311d3c",
          "sectionType": "Reading",
          "title": "Reading Section",
          "duration": 3600
        },
        {
          "sectionId": "68ea2625285f4daf28311d48",
          "sectionType": "Writing",
          "title": "Writing Section",
          "duration": 3600
        },
        {
          "sectionId": "68ea2625285f4daf28311d59",
          "sectionType": "Speaking",
          "title": "Speaking Section",
          "duration": 900
        }
      ]
    },

    "workflow_steps": {
      "step_1_start_section_attempt": {
        "description": "Start exam for specific section (Listening section example)",
        "endpoint": "POST /attempts/sections/start",
        "headers": {
          "Authorization": "Bearer your_jwt_token_here",
          "Content-Type": "application/json"
        },
        "payload": {
          "examId": "68ea2625285f4daf28311d5b",
          "sectionId": "68ea2625285f4daf28311d33"
        },
        "curl_example": "curl -X POST http://localhost:4000/attempts/sections/start -H 'Authorization: Bearer YOUR_JWT_TOKEN' -H 'Content-Type: application/json' -d '{\"examId\":\"68ea2625285f4daf28311d5b\",\"sectionId\":\"68ea2625285f4daf28311d33\"}'",
        "expected_response": {
          "_id": "68ea2625285f4daf28311d5c",
          "userId": "68ea2625285f4daf28311d5b",
          "examId": "68ea2625285f4daf28311d5b",
          "attemptType": "section_only",
          "activeSectionId": "68ea2625285f4daf28311d33",
          "status": "in_progress",
          "startedAt": "2025-01-12T10:00:00.000Z",
          "expiresAt": "2025-01-12T10:45:00.000Z",
          "sectionsStatus": [
            {
              "sectionId": "68ea2625285f4daf28311d33",
              "status": "in_progress"
            }
          ]
        }
      },

      "step_2_save_responses": {
        "description": "Save responses for questions in the section",
        "endpoint": "POST /attempts/:attemptId/responses",
        "headers": {
          "Authorization": "Bearer your_jwt_token_here",
          "Content-Type": "application/json"
        },

        "response_1_multiple_choice": {
          "description": "Save response for multiple choice question (Listening Part 1)",
          "attemptId": "68ea2625285f4daf28311d5c",
          "payload": {
            "sectionId": "68ea2625285f4daf28311d33",
            "partId": "68ea2625285f4daf28311d2a",
            "groupId": "68ea2625285f4daf28311d25",
            "questionId": "68ea2625285f4daf28311d26",
            "response": "B",
            "timeSpentMs": 15000
          },
          "curl_example": "curl -X POST http://localhost:4000/attempts/68ea2625285f4daf28311d5c/responses -H 'Authorization: Bearer YOUR_JWT_TOKEN' -H 'Content-Type: application/json' -d '{\"sectionId\":\"68ea2625285f4daf28311d33\",\"partId\":\"68ea2625285f4daf28311d2a\",\"groupId\":\"68ea2625285f4daf28311d25\",\"questionId\":\"68ea2625285f4daf28311d26\",\"response\":\"B\",\"timeSpentMs\":15000}'"
        },

        "response_2_multiple_choice": {
          "description": "Save response for second multiple choice question",
          "attemptId": "68ea2625285f4daf28311d5c",
          "payload": {
            "sectionId": "68ea2625285f4daf28311d33",
            "partId": "68ea2625285f4daf28311d2a",
            "groupId": "68ea2625285f4daf28311d25",
            "questionId": "68ea2625285f4daf28311d27",
            "response": "B",
            "timeSpentMs": 12000
          }
        },

        "response_3_multiple_choice": {
          "description": "Save response for third multiple choice question",
          "attemptId": "68ea2625285f4daf28311d5c",
          "payload": {
            "sectionId": "68ea2625285f4daf28311d33",
            "partId": "68ea2625285f4daf28311d2a",
            "groupId": "68ea2625285f4daf28311d25",
            "questionId": "68ea2625285f4daf28311d28",
            "response": "B",
            "timeSpentMs": 10000
          }
        },

        "response_4_text_completion": {
          "description": "Save response for text completion question (Listening Part 2)",
          "attemptId": "68ea2625285f4daf28311d5c",
          "payload": {
            "sectionId": "68ea2625285f4daf28311d33",
            "partId": "68ea2625285f4daf28311d31",
            "groupId": "68ea2625285f4daf28311d2c",
            "questionId": "68ea2625285f4daf28311d2d",
            "response": "1872",
            "timeSpentMs": 8000
          }
        },

        "response_5_text_completion": {
          "description": "Save response for second text completion question",
          "attemptId": "68ea2625285f4daf28311d5c",
          "payload": {
            "sectionId": "68ea2625285f4daf28311d33",
            "partId": "68ea2625285f4daf28311d31",
            "groupId": "68ea2625285f4daf28311d2c",
            "questionId": "68ea2625285f4daf28311d2e",
            "response": "John Smith",
            "timeSpentMs": 10000
          }
        },

        "response_6_text_completion": {
          "description": "Save response for third text completion question",
          "attemptId": "68ea2625285f4daf28311d5c",
          "payload": {
            "sectionId": "68ea2625285f4daf28311d33",
            "partId": "68ea2625285f4daf28311d31",
            "groupId": "68ea2625285f4daf28311d2c",
            "questionId": "68ea2625285f4daf28311d2f",
            "response": "2 million",
            "timeSpentMs": 7000
          }
        },

        "expected_response": {
          "message": "Response saved successfully",
          "attemptId": "68ea2625285f4daf28311d5c",
          "questionId": "68ea2625285f4daf28311d26",
          "response": "B"
        }
      },

      "step_3_submit_section": {
        "description": "Submit the completed section (this will complete the entire attempt for section-only)",
        "endpoint": "POST /attempts/:attemptId/sections/:sectionId/submit",
        "headers": {
          "Authorization": "Bearer your_jwt_token_here"
        },
        "attemptId": "68ea2625285f4daf28311d5c",
        "sectionId": "68ea2625285f4daf28311d33",
        "curl_example": "curl -X POST http://localhost:4000/attempts/68ea2625285f4daf28311d5c/sections/68ea2625285f4daf28311d33/submit -H 'Authorization: Bearer YOUR_JWT_TOKEN'",
        "expected_response": {
          "message": "Section submitted",
          "sectionsStatus": [
            {
              "sectionId": "68ea2625285f4daf28311d33",
              "status": "submitted",
              "submittedAt": "2025-01-12T10:35:00.000Z",
              "score": 6,
              "maxScore": 6,
              "accuracy": 1.0
            }
          ],
          "attemptType": "section_only",
          "attemptStatus": "submitted"
        }
      }
    },

    "alternative_sections": {
      "reading_section_workflow": {
        "description": "Workflow for Reading section",
        "start_payload": {
          "examId": "68ea2625285f4daf28311d5b",
          "sectionId": "68ea2625285f4daf28311d3c"
        },
        "sample_responses": [
          {
            "sectionId": "68ea2625285f4daf28311d3c",
            "partId": "68ea2625285f4daf28311d3a",
            "groupId": "68ea2625285f4daf28311d35",
            "questionId": "68ea2625285f4daf28311d36",
            "response": "i",
            "timeSpentMs": 30000
          },
          {
            "sectionId": "68ea2625285f4daf28311d3c",
            "partId": "68ea2625285f4daf28311d3a",
            "groupId": "68ea2625285f4daf28311d35",
            "questionId": "68ea2625285f4daf28311d37",
            "response": "ii",
            "timeSpentMs": 25000
          },
          {
            "sectionId": "68ea2625285f4daf28311d3c",
            "partId": "68ea2625285f4daf28311d3a",
            "groupId": "68ea2625285f4daf28311d35",
            "questionId": "68ea2625285f4daf28311d38",
            "response": "iii",
            "timeSpentMs": 20000
          }
        ]
      },

      "writing_section_workflow": {
        "description": "Workflow for Writing section with long text responses",
        "start_payload": {
          "examId": "68ea2625285f4daf28311d5b",
          "sectionId": "68ea2625285f4daf28311d48"
        },
        "sample_responses": [
          {
            "sectionId": "68ea2625285f4daf28311d48",
            "partId": "68ea2625285f4daf28311d41",
            "groupId": "68ea2625285f4daf28311d3e",
            "questionId": "68ea2625285f4daf28311d3f",
            "response": "The chart illustrates the distribution of households across different income brackets in Country X over a 30-year period from 1990 to 2020. Overall, there has been a significant shift towards higher income brackets, with the middle-income group showing the most substantial growth.\n\nIn 1990, the largest proportion of households (35%) fell into the low-income bracket, while middle-income households accounted for 30% and high-income households for 20%. The remaining 15% were in the very high-income category.\n\nBy 2020, the distribution had changed dramatically. The middle-income bracket had become the largest group at 40%, representing a 10% increase. High-income households also increased significantly to 30%, while low-income households decreased to 25%. The very high-income bracket remained relatively stable at around 5%.\n\nThese changes suggest economic growth and improved living standards in Country X over the three-decade period.",
            "timeSpentMs": 1200000
          },
          {
            "sectionId": "68ea2625285f4daf28311d48",
            "partId": "68ea2625285f4daf28311d46",
            "groupId": "68ea2625285f4daf28311d43",
            "questionId": "68ea2625285f4daf28311d44",
            "response": "Technology's impact on modern life is a subject of ongoing debate, with compelling arguments on both sides regarding whether it complicates or simplifies our daily existence.\n\nThose who argue that technology complicates life point to several valid concerns. The constant connectivity through smartphones and social media can lead to information overload and increased stress. Many people find themselves overwhelmed by the sheer volume of notifications, emails, and digital demands.\n\nConversely, proponents of technology's simplifying effects highlight numerous benefits. Smart home devices can automate routine tasks like adjusting temperature and lighting. Online banking and shopping eliminate the need for physical visits to banks and stores.\n\nIn my opinion, while technology does introduce certain complexities, its overall effect is overwhelmingly positive in terms of simplifying life. The key lies in learning to use technology mindfully and setting appropriate boundaries.",
            "timeSpentMs": 2400000
          }
        ]
      },

      "speaking_section_workflow": {
        "description": "Workflow for Speaking section with audio responses",
        "start_payload": {
          "examId": "68ea2625285f4daf28311d5b",
          "sectionId": "68ea2625285f4daf28311d59"
        },
        "sample_responses": [
          {
            "sectionId": "68ea2625285f4daf28311d59",
            "partId": "68ea2625285f4daf28311d4d",
            "groupId": "68ea2625285f4daf28311d4a",
            "questionId": "68ea2625285f4daf28311d4b",
            "response": "I'm from Manchester, which is a vibrant city in the north of England. What I love most about my hometown is its rich cultural heritage and the friendly atmosphere. Manchester has an incredible music scene, and I really enjoy the diverse range of restaurants and cafes throughout the city.",
            "speakingAudioUrl": "https://s3.amazonaws.com/fluento-audio/speaking-response-1.mp3",
            "speakingTranscript": "I'm from Manchester, which is a vibrant city in the north of England. What I love most about my hometown is its rich cultural heritage and the friendly atmosphere.",
            "timeSpentMs": 60000
          },
          {
            "sectionId": "68ea2625285f4daf28311d59",
            "partId": "68ea2625285f4daf28311d52",
            "groupId": "68ea2625285f4daf28311d4f",
            "questionId": "68ea2625285f4daf28311d50",
            "response": "I'd like to tell you about a journey I took to Japan last year, which was absolutely unforgettable. I went with my best friend Sarah, and we spent two weeks exploring different cities including Tokyo, Kyoto, and Osaka.",
            "speakingAudioUrl": "https://s3.amazonaws.com/fluento-audio/speaking-response-2.mp3",
            "speakingTranscript": "I'd like to tell you about a journey I took to Japan last year, which was absolutely unforgettable. I went with my best friend Sarah, and we spent two weeks exploring different cities including Tokyo, Kyoto, and Osaka.",
            "timeSpentMs": 120000
          }
        ]
      }
    },

    "javascript_implementation": {
      "complete_workflow": "const completeSectionWorkflow = async (examId, sectionId, responses) => {\n  try {\n    // Step 1: Start section attempt\n    const startResponse = await fetch('http://localhost:4000/attempts/sections/start', {\n      method: 'POST',\n      headers: {\n        'Authorization': `Bearer ${localStorage.getItem('token')}`,\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({ examId, sectionId })\n    });\n    \n    const attempt = await startResponse.json();\n    console.log('Section attempt started:', attempt);\n    \n    // Step 2: Save all responses\n    for (const response of responses) {\n      const saveResponse = await fetch(`http://localhost:4000/attempts/${attempt._id}/responses`, {\n        method: 'POST',\n        headers: {\n          'Authorization': `Bearer ${localStorage.getItem('token')}`,\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(response)\n      });\n      \n      const result = await saveResponse.json();\n      console.log('Response saved:', result);\n    }\n    \n    // Step 3: Submit section\n    const submitResponse = await fetch(`http://localhost:4000/attempts/${attempt._id}/sections/${sectionId}/submit`, {\n      method: 'POST',\n      headers: {\n        'Authorization': `Bearer ${localStorage.getItem('token')}`\n      }\n    });\n    \n    const submitResult = await submitResponse.json();\n    console.log('Section submitted:', submitResult);\n    \n    return submitResult;\n  } catch (error) {\n    console.error('Workflow failed:', error);\n    throw error;\n  }\n};",

      "usage_example": "// Example usage for Listening section\nconst listeningResponses = [\n  {\n    sectionId: '68ea2625285f4daf28311d33',\n    partId: '68ea2625285f4daf28311d2a',\n    groupId: '68ea2625285f4daf28311d25',\n    questionId: '68ea2625285f4daf28311d26',\n    response: 'B',\n    timeSpentMs: 15000\n  },\n  {\n    sectionId: '68ea2625285f4daf28311d33',\n    partId: '68ea2625285f4daf28311d2a',\n    groupId: '68ea2625285f4daf28311d25',\n    questionId: '68ea2625285f4daf28311d27',\n    response: 'B',\n    timeSpentMs: 12000\n  }\n  // ... more responses\n];\n\nconst result = await completeSectionWorkflow(\n  '68ea2625285f4daf28311d5b',\n  '68ea2625285f4daf28311d33',\n  listeningResponses\n);"
    }
  }
}
